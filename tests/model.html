<!DOCTYPE HTML><html><head>        <meta charset="UTF-8" />    <title>QUnit - backstab/model.js</title>		<link href="../css/qunit-1.15.0.css" rel="stylesheet" type="text/css" />	<link href="../css/style.css" rel="stylesheet" type="text/css" />		<script src="../dependencies/jquery-1.11.1.min.js" type="text/javascript"></script>	<script src="../dependencies/underscore-1.7.0.min.js" type="text/javascript"></script>	<script src="../dependencies/backbone-1.1.2.min.js" type="text/javascript"></script>		<script src="../dependencies/string_format.js" type="text/javascript"></script>	<script src="../dependencies/Geko.js" type="text/javascript"></script>		<script src="../backstab/base.js" type="text/javascript"></script>	<script src="../backstab/util.js" type="text/javascript"></script>		<script src="../backstab/model.js" type="text/javascript"></script>	</head><body><p><a href="index.html">Main Menu</a></p><div id="qunit"></div><div id="qunit-fixture"></div><script src="../dependencies/qunit-1.15.0.js" type="text/javascript"></script><script src="funcs.js" type="text/javascript"></script><script type="text/javascript">var sModelVal = 'The model value';var sFooValue = 'The foo value';//var oModel = new Backstab.Model( {	value: sModelVal}, {	data: {		foo: sFooValue	}} );var sThingDataValue = 'The thing data value';var Thing = Backstab.Model.extend( {		defaults: {		id: 101,		title: 'Some Title',		date: '10-10-1988',		isThing: false	},		data: {		thingValue: sThingDataValue	}	} );var oThing1 = new Thing();var oThing2 = new Thing( {	id: 266,	title: 'Thing Two',	date: '10-09-2014'} );var sThing3Data = 'This is thing 3 data';var oThing3 = new Thing( {}, {	data: {		value: sThing3Data	}} );oThing3.set( 'id', oThing3.getIntCid() );var oDataVals = oThing2.getDataValues( 'date', 'title', 'id' );var sDataValCheck = '[10-09-2014][Thing Two][266]';var sDataValExpected = '';$.each( oDataVals, function( k, v ) {	sDataValExpected += '[%s]'.printf( v );} );var DooDad = Backstab.Model.extend( {		fields: {		'id': { value: 0 },		'name': { value: '' },		'is_cool': { value: false }		}	} );var oDooDad = new DooDad();/* ---------------------------------------------------------------------------------------------- */test( 'new Backstab.Model', function() {		expect( 3 );		var vals1 = { _exp: sModelVal };	expected(		oModel.get( 'value' ), vals1,		"oModel.get( 'value' ) should be {{_exp}}"	);		var sNewVal = 'The new value';		oModel.set( 'value', sNewVal );			var vals2 = { _exp: sNewVal };	expected(		oModel.get( 'value' ), vals2,		"oModel.get( 'value' ) should now be {{_exp}}"	);		var vals3 = { _exp: sFooValue };	expected(		oModel.data.foo, vals3,		"oModel.data.foo should be {{_exp}}"	);	} );test( 'Backstab.Model.extend', function() {		expect( 2 );		var vals1 = { _exp: 101 };	expected(		oThing1.get( 'id' ), vals1,		"oThing1.get( 'id' ) should be {{_exp}}"	);		var vals3 = { _exp: 'Thing Two' };	expected(		oThing2.get( 'title' ), vals3,		"oThing2.get( 'title' ) should be {{_exp}}"	);	} );test( 'oModel.data', function() {		var vals1 = { _exp: sThingDataValue };	expected(		oThing1.data.thingValue, vals1,		"oThing1.data.thingValue should be {{_exp}}"	);		var vals2 = { _exp: sThingDataValue };	expected(		oThing2.data.thingValue, vals2,		"oThing2.data.thingValue should be {{_exp}}"	);		var vals3 = { _exp: sThing3Data };	expected(		oThing3.data.value, vals3,		"oThing3.data.value should be {{_exp}}"	);		var vals4 = { _exp: sThingDataValue };	expected(		oThing3.data.thingValue, vals4,		"oThing3.data.thingValue should be {{_exp}}"	);		var vals5 = { _exp: undefined };	expected(		oThing1.data.value, vals5,		"oThing1.data.value should be {{_exp}}"	);		var vals6 = { _exp: undefined };	expected(		oThing2.data.value, vals6,		"oThing2.data.value should be {{_exp}}"	);	} );test( 'oModel.getDataValues()', function() {		var vals1 = { _exp: sDataValCheck };	expected(		sDataValExpected, vals1,		"sDataValExpected should be {{_exp}}"	);		} );test( 'oModel.toggleValue()', function() {		var vals1 = { _exp: false };	expected(		oThing1.get( 'isThing' ), vals1,		"oThing1.get( 'isThing' ) should be {{_exp}}"	);		oThing1.toggleValue( 'isThing' );		var vals2 = { _exp: true };	expected(		oThing1.get( 'isThing' ), vals2,		"oThing1.get( 'isThing' ) should be {{_exp}}"	);		// there should be no change here	oThing2.toggleValue( 'isThing' );		var vals3 = { _exp: 'Thing Two' };	expected(		oThing2.get( 'title' ), vals3,		"oThing2.get( 'title' ) should be {{_exp}}"	);	} );test( 'oModel.getIntCid()', function() {		var vals1 = { _exp: true };	expected(		oThing1.getIntCid() < 0, vals1,		"oThing1.getIntCid() < 0 should be {{_exp}}"	);	} );test( 'oModel.isNew()', function() {		var vals1 = { _exp: false };	expected(		oThing1.isNew(), vals1,		"oThing1.isNew() should be {{_exp}}"	);		var vals2 = { _exp: true };	expected(		oThing3.isNew(), vals2,		"oThing3.isNew() should be {{_exp}}"	);	} );test( 'Backstab.Model.extend( { fields: ... } )', function() {		var vals1 = { _exp: 0 };	expected(		oDooDad.get( 'id' ), vals1,		"oDooDad.get( 'id' ) should be {{_exp}}"	);	} );</script></body></html>